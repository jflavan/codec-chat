services:
  postgres:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: codec_dev
      POSTGRES_USER: codec
      POSTGRES_PASSWORD: codec_dev_password
    ports:
      - "5433:5432"
    volumes:
      - pgdata:/var/lib/postgresql/data

  coturn:
    image: coturn/coturn:latest
    network_mode: host
    command: >
      --lt-cred-mech
      --use-auth-secret
      --static-auth-secret=REDACTED
      --realm=codec.local
      --listening-port=3478
      --min-port=49152
      --max-port=49200
      --no-tls
      --no-dtls
      --log-file=stdout

volumes:
  pgdata:
